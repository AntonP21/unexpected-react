<p>It&#39;s possible to check for a part of the subtree, without
testing the entire returned tree.  This allows you to test specific elements, without
writing brittle tests that break when the structure changes.</p>
<p>Assuming the following component output</p>
<div class="code lang-javascript"><div>const&nbsp;MyComponent&nbsp;<span style="color: #a71d5d">=</span>&nbsp;<span style="color: #000000">()</span>&nbsp;<span style="color: #a71d5d">=&gt;</span>&nbsp;<span style="color: #000000">(</span></div><div>&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>div<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span&nbsp;className<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;top&quot;</span><span style="color: #a71d5d">&gt;</span>one<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span&nbsp;className<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;middle&quot;</span><span style="color: #a71d5d">&gt;</span>two<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #a71d5d">&lt;</span>span&nbsp;className<span style="color: #a71d5d">=</span><span style="color: #df5000">&quot;bottom&quot;</span><span style="color: #a71d5d">&gt;</span>three<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span></div><div>&nbsp;&nbsp;<span style="color: #a71d5d">&lt;/</span>div<span style="color: #a71d5d">&gt;</span></div><div><span style="color: #000000">)</span></div><div>&nbsp;</div><div><span style="color: #a71d5d">var</span>&nbsp;renderer&nbsp;<span style="color: #a71d5d">=</span>&nbsp;TestRenderer<span style="color: #000000">.</span><span style="color: #000000">create</span><span style="color: #000000">(</span><span style="color: #a71d5d">&lt;</span>MyComponent<span style="color: #a71d5d">/&gt;</span><span style="color: #000000">);</span></div></div><div class="code lang-javascript"><div><span style="color: #969896">//&nbsp;This&nbsp;will&nbsp;pass,&nbsp;as&nbsp;`&lt;span&nbsp;className=&quot;middle&quot;&gt;two&lt;/span&gt;`&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;renderers&nbsp;output</span></div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span>renderer<span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">'to&nbsp;contain'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #a71d5d">&lt;</span>span<span style="color: #a71d5d">&gt;</span>two<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span><span style="color: #000000">);</span></div></div><p>Notice that the extra <code>className=&quot;middle&quot;</code> in the <code>&lt;span className=&quot;middle&quot;&gt;two&lt;/span&gt;</code> is ignored,
in a similar way to the <code>to have rendered</code> assertion.</p>
<p>You can override this behaviour by using <code>&#39;to contain exactly&#39;</code>, and <code>&#39;to contain with all children&#39;</code></p>
<div class="code lang-javascript"><div><span style="color: #969896">//&nbsp;This&nbsp;will&nbsp;fail,&nbsp;as&nbsp;`&lt;span&gt;two&lt;/span&gt;`&nbsp;cannot&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;renderers&nbsp;output,&nbsp;due&nbsp;to</span></div><div><span style="color: #969896">//&nbsp;the&nbsp;missing&nbsp;`className=&quot;middle&quot;`&nbsp;prop</span></div><div><span style="color: #000000">expect</span><span style="color: #000000">(</span>renderer<span style="color: #000000">,</span>&nbsp;<span style="color: #df5000">'to&nbsp;contain&nbsp;exactly'</span><span style="color: #000000">,</span>&nbsp;<span style="color: #a71d5d">&lt;</span>span<span style="color: #a71d5d">&gt;</span>two<span style="color: #a71d5d">&lt;/</span>span<span style="color: #a71d5d">&gt;</span><span style="color: #000000">);</span></div></div><div class="output"><div><span style="color: red; font-weight: bold">expected</span></div><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">div</span><span style="color: #000000">&gt;</span></div><div>&nbsp;&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">div</span>&nbsp;<span style="color: #df5000">className</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">items</span><span style="color: #000000">&quot;&gt;</span></div><div>&nbsp;&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">TodoItem</span>&nbsp;<span style="color: #df5000">id</span><span style="color: #000000">={</span><span style="color: #0086b3">1</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">label</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">Buy&nbsp;flowers&nbsp;for&nbsp;the&nbsp;wife</span><span style="color: #000000">&quot;</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">onClick</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;bound&nbsp;<span style="color: #000000">onClick</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">clicked</span><span style="color: #000000">={</span><span style="color: #0086b3">false</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">onMouseDown</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;<span style="color: #000000">noop</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div><span style="color: #000000">/&gt;</span></div><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">TodoItem</span>&nbsp;<span style="color: #df5000">id</span><span style="color: #000000">={</span><span style="color: #0086b3">2</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">label</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">Mow&nbsp;the&nbsp;lawn</span><span style="color: #000000">&quot;</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">onClick</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;bound&nbsp;<span style="color: #000000">onClick</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">clicked</span><span style="color: #000000">={</span><span style="color: #0086b3">false</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">onMouseDown</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;<span style="color: #000000">noop</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div><span style="color: #000000">/&gt;</span></div><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">TodoItem</span>&nbsp;<span style="color: #df5000">id</span><span style="color: #000000">={</span><span style="color: #0086b3">3</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">label</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">Buy&nbsp;groceries</span><span style="color: #000000">&quot;</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">onClick</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;bound&nbsp;<span style="color: #000000">onClick</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">clicked</span><span style="color: #000000">={</span><span style="color: #0086b3">false</span><span style="color: #000000">}</span>&nbsp;<span style="color: #df5000">onMouseDown</span><span style="color: #000000">={</span><span style="color: #a71d5d">function</span>&nbsp;bound&nbsp;<span style="color: #000000">noop</span><span style="color: #000000">()</span>&nbsp;<span style="color: #000000">{</span>&nbsp;<span style="color: #969896">/*&nbsp;native&nbsp;code&nbsp;*/</span>&nbsp;<span style="color: #000000">}}</span></div><div><span style="color: #000000">/&gt;</span></div></div></div><div><span style="color: #000000">&lt;/</span><span style="color: #63a35c">div</span><span style="color: #000000">&gt;</span></div><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">div</span>&nbsp;<span style="color: #df5000">className</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">add-new-item</span><span style="color: #000000">&quot;&gt;</span><div style="display: inline-block; vertical-align: top"><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">input</span>&nbsp;<span style="color: #df5000">placeholder</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">Enter&nbsp;something&nbsp;to&nbsp;do</span><span style="color: #000000">&quot;</span>&nbsp;<span style="color: #000000">/&gt;</span></div></div><span style="color: #000000">&lt;/</span><span style="color: #63a35c">div</span><span style="color: #000000">&gt;</span></div></div></div><div><span style="color: #000000">&lt;/</span><span style="color: #63a35c">div</span><span style="color: #000000">&gt;</span></div><div><span style="color: red; font-weight: bold">to&nbsp;contain&nbsp;exactly</span>&nbsp;<span style="color: #000000">&lt;</span><span style="color: #63a35c">span</span><span style="color: #000000">&gt;</span><div style="display: inline-block; vertical-align: top"><div>two</div></div><span style="color: #000000">&lt;/</span><span style="color: #63a35c">span</span><span style="color: #000000">&gt;</span></div><div>&nbsp;</div><div><span style="color: red; font-weight: bold">the&nbsp;best&nbsp;match&nbsp;was</span></div><div><span style="color: #000000">&lt;</span><span style="color: #63a35c">input</span>&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: red; font-weight: bold">//</span></div></div>&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: red; font-weight: bold">should&nbsp;be</span>&nbsp;<span style="color: #000000">&lt;</span><span style="color: #63a35c">span</span></div></div></div><div>&nbsp;&nbsp;&nbsp;<span style="color: #df5000">placeholder</span><span style="color: #000000">=&quot;</span><span style="color: #df5000">Enter&nbsp;something&nbsp;to&nbsp;do</span><span style="color: #000000">&quot;</span>&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: red; font-weight: bold">//</span></div></div>&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: #df5000">placeholder</span>&nbsp;<span style="color: red; font-weight: bold">should&nbsp;be&nbsp;removed</span></div></div></div><div><span style="color: #000000">&gt;</span></div><div>&nbsp;&nbsp;<div style="display: inline-block; vertical-align: top"><div><div style="display: inline-block; vertical-align: top"><div><span style="color: red; font-weight: bold">//</span></div></div>&nbsp;<div style="display: inline-block; vertical-align: top"><div><span style="color: red; font-weight: bold">missing</span>&nbsp;<div style="display: inline-block; vertical-align: top"><div>two</div></div></div></div></div></div></div><div><span style="color: #000000">&lt;/</span><span style="color: #63a35c">input</span><span style="color: #000000">&gt;</span></div></div><p>The same thing applies to children for <code>&#39;to contain&#39;</code> as for <code>&#39;to have rendered&#39;</code>.</p>
